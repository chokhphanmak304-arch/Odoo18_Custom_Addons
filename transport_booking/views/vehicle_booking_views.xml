<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- List View -->
        <record id="view_vehicle_booking_list" model="ir.ui.view">
            <field name="name">vehicle.booking.list</field>
            <field name="model">vehicle.booking</field>
            <field name="arch" type="xml">
                <list string="‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á"
                      decoration-info="state=='draft'"
                      decoration-primary="state=='confirmed'"
                      decoration-warning="state=='in_progress'"
                      decoration-success="state=='done'">
                    <field name="name"/>
                    <field name="branch_id"/>
		    <field name="delivery_type"/>
                    <field name="booking_date"/>
                    <field name="transport_order_id"/>
                    <field name="partner_id"/>
                    <field name="pickup_location"/>
                    <field name="destination"/>
                    <field name="vehicle_id"/>
                    <field name="driver_id"/>
                    <field name="license_plate_name"/>
                    <field name="gps_tracking_available" string="GPS" widget="boolean"/>
                    <field name="gps_vehicle_status" optional="show"/>
                    <field name="state" widget="badge"/>
                </list>
            </field>
        </record>

        <!-- Form View -->
        <record id="view_vehicle_booking_form" model="ir.ui.view">
            <field name="name">vehicle.booking.form</field>
            <field name="model">vehicle.booking</field>
            <field name="arch" type="xml">
                <form string="‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á">
                    <header>
                        <button name="action_confirm" string="‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á"
                                type="object" class="btn-primary"
                                invisible="state != 'draft'"/>
                        <button name="action_reset_to_draft" string="üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡∏£‡πà‡∏≤‡∏á"
                                type="object" class="btn-warning"
                                confirm="‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏£‡πà‡∏≤‡∏á‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏ñ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ'"
                                invisible="state != 'confirmed'"/>
                        <button name="action_start" string="üöö ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á"
                                type="object" class="btn-primary"
                                confirm="‚ö†Ô∏è ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏î ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ù‡∏±‡πà‡∏á‡πÅ‡∏≠‡∏õ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏° ‡∏Å‡∏≤‡∏£‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô"
                                invisible="state != 'confirmed'"/>
                        <button name="action_done" string="‚úîÔ∏è ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô"
                                type="object" class="btn-success"
                                confirm="‚ö†Ô∏è ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏î ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ù‡∏±‡πà‡∏á‡πÅ‡∏≠‡∏õ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≤‡∏° ‡∏Å‡∏≤‡∏£‡∏à‡∏ö‡∏á‡∏≤‡∏ô"
                                invisible="state != 'in_progress'"/>
                        <button name="action_cancel" string="‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"
                                type="object"
                                invisible="state in ['done','cancelled']"/>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,confirmed,in_progress,done"/>
                    </header>
                    <sheet>
                        <!-- Smart Buttons -->
                        <div class="oe_button_box" name="button_box">
                            <!-- GPS Tracking Button -->
                            <button name="action_view_gps_tracking"
                                    type="object"
                                    class="oe_stat_button"
                                     icon="fa-location-arrow"
                                    invisible="not gps_tracking_available">
                                <div class="o_stat_info">
                                    <span class="o_stat_value">
                                        <field name="gps_vehicle_speed" widget="float" digits="[16,1]"/>
                                    </span>
                                    <span class="o_stat_text">‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà GPS‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏ñ ‡∏Å‡∏°./‡∏ä‡∏°. (GPS)</span>
                                </div>
                            </button>

                            <button name="action_open_tracking_map"
                                    type="object"
                                    class="oe_stat_button"
                                    icon="fa-map"
                                    invisible="state == 'draft'"
                                    string="üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°">
                                <div class="o_stat_info">
                                    <span class="o_stat_text">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á</span>
                                </div>
                            </button>
                            <button name="action_view_tracking"
                                    type="object"
                                    class="oe_stat_button"
                                    icon="fa-map-marker"
                                    invisible="state == 'draft'">
                                <div class="o_stat_info">
                                    <field name="tracking_count" widget="statinfo" string="‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á GPS"/>
                                </div>
                            </button>
                        </div>

                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1"
                                       class="oe_inline"
                                       placeholder="‡∏£‡πà‡∏≤‡∏á (‡∏£‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á)"/>
                            </h1>
                        </div>

                        <group>
    <group string="üì¶ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏ô‡∏™‡πà‡∏á">
        <field name="transport_order_id"
               options="{'no_create': True, 'no_create_edit': True}"
               readonly="state != 'draft'"/>

        <field name="booking_date" readonly="state != 'draft'"/>
        <field name="partner_id" readonly="1"/>
        <field name="delivery_employee_name" readonly="1"/>
        <field name="branch_id" readonly="1"/>
        <field name="travel_expenses" />
        <field name="daily_allowance" />
    </group>
    <group string="üöö ‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö">
    <!-- ‚úÖ ‡∏à‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô -->
    <field name="is_concurrent_booking"
           widget="boolean_toggle"
           readonly="state != 'draft'"/>
    <field name="concurrent_booking_id"
           invisible="not is_concurrent_booking"
           readonly="state != 'draft'"
           options="{'no_create': True, 'no_edit': True}"/>

    <!-- ‚úÖ ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ - ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å concurrent_booking_id ‡πÅ‡∏•‡πâ‡∏ß + ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏Å -->
    <field name="note"
           string="üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏à‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô)"
           invisible="not concurrent_booking_id"
           readonly="state != 'draft'"
           required="concurrent_booking_id"
           placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô..."/>

    <!-- ‚úÖ ‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á - ‡πÄ‡∏û‡∏¥‡πà‡∏° force_save="1" -->
    <field name="vehicle_id"
           options="{'no_create': True, 'no_create_edit': True}"
           readonly="state != 'draft' or (is_concurrent_booking and concurrent_booking_id)"
           force_save="1"/>

    <!-- ‚úÖ ‡∏Ñ‡∏ô‡∏Ç‡∏±‡∏ö - ‡πÄ‡∏û‡∏¥‡πà‡∏° force_save="1" -->
    <field name="driver_id"
           options="{'no_create': True, 'no_create_edit': True}"
           readonly="state != 'draft' or (is_concurrent_booking and concurrent_booking_id)"
           force_save="1"/>

    <field name="license_plate_name" readonly="1"/>
</group>
</group>

                        <!-- GPS Tracking Information -->
                        <group invisible="not gps_tracking_available">
                            <group string="üõ∞Ô∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• GPS ‡∏£‡∏ñ">
                                <field name="gps_tracking_available" invisible="1"/>
                                <field name="gps_vehicle_id" readonly="1"
                                       string="‡∏£‡∏ñ‡πÉ‡∏ô GPS"
                                       options="{'no_create': True, 'no_open': False}"/>
                                <field name="gps_vehicle_status" readonly="1"/>
                                <field name="gps_vehicle_speed" readonly="1" string="‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏Å‡∏°./‡∏ä‡∏°.)"/>
                                <field name="gps_last_update" readonly="1" widget="datetime"/>
                                <div colspan="2">
<!--                                    <button name="action_view_gps_tracking" -->
<!--                                            string="üó∫Ô∏è ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà GPS‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏ñ"-->
<!--                                            type="object" -->
<!--                                            class="btn btn-primary"-->
<!--                                            icon="fa-map-marker"/>-->
                                    <button name="action_open_gps_vehicle_form"
                                            string="üìä ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• GPS ‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö"
                                            type="object"
                                            class="btn btn-secondary"
                                            icon="fa-info-circle"/>
                                </div>
                            </group>
                        </group>

                        <group>
                            <group string="üìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà">
                                <field name="pickup_location"
                                       placeholder="‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤"
                                       readonly="1"/>
                                <field name="destination"
                                       placeholder="‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á"
                                       readonly="1"/>
                                <field name="distance_km" readonly="1"/>
                                <field name="estimated_time" readonly="1"/>
                                <field name="shipping_cost"
                                       widget="monetary"
                                       options="{'currency_field': 'currency_id'}"
                                       readonly="1"/>
                                <field name="total_weight_order" readonly="1" string="‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏ß‡∏° (‡∏Å‡∏Å.)"/>
                                <field name="vehicle_type_name" readonly="1"/>
				<field name="delivery_type"/>
                            </group>
                            <group string="‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô">
                                <field name="planned_start_date" readonly="state != 'draft'"/>
<!--                                <field name="planned_end_date" readonly="state != 'draft'"/>-->
                                <field name="planned_start_date_t" readonly="state != 'draft'"/>
                                <field name="planned_end_date_t" readonly="state != 'draft'"/>
                            </group>
                        </group>

                        <!-- Hidden fields for widget trigger -->
                        <group invisible="1">
                            <field name="currency_id"/>
                            <field name="pickup_location" force_save="1"/>
                            <field name="destination" force_save="1"/>
                            <field name="distance_km" force_save="1"/>
                            <field name="shipping_cost" force_save="1"/>
                            <field name="total_weight_order" force_save="1"/>
                            <field name="estimated_time" force_save="1"/>
                            <field name="waypoints_json" force_save="1"/>
                            <field name="route_version" force_save="1"/>
                            <field name="map_trigger" force_save="1"/>
                            <field name="tracking_count"/>
                            <!-- GPS Coordinates -->
                            <field name="pickup_latitude" force_save="1"/>
                            <field name="pickup_longitude" force_save="1"/>
                            <field name="destination_latitude" force_save="1"/>
                            <field name="destination_longitude" force_save="1"/>
                        </group>

                        <notebook>
                            <page string="üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á">
                                <field name="map_route" widget="google_maps_widget" nolabel="1"/>
                            </page>
                            
                            <page string="‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á" invisible="state == 'draft'">
                                <!-- üì∏ ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ç‡∏ô‡∏™‡πà‡∏á - ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ -->
                                <group string="üì∏ ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ç‡∏ô‡∏™‡πà‡∏á" invisible="not pickup_photo">
                                    <field name="pickup_photo" widget="image" options="{'size': [400, 400]}" nolabel="1"/>
                                    <group>
                                        <field name="actual_pickup_time" string="‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ" readonly="1"/>
                                    </group>
                                </group>
                                
<!--                                <separator string="üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Real-time"/>-->
<!--                                &lt;!&ndash; ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Real-time &ndash;&gt;-->
<!--                                <group>-->
<!--                                    <field name="tracking_map_html" nolabel="1" widget="html"/>-->
<!--                                </group>-->
                                
<!--                                <group>-->
<!--                                    <group string="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á">-->
<!--                                        <field name="tracking_status" widget="badge"/>-->
<!--                                        <field name="current_location" placeholder="‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô"/>-->
<!--                                        <field name="current_latitude" readonly="1" digits="[10,7]"/>-->
<!--                                        <field name="current_longitude" readonly="1" digits="[10,7]"/>-->
<!--                                        <field name="gps_last_update" readonly="1"/>-->
<!--                                    </group>-->
<!--                                    <group string="‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á">-->
<!--                                        <field name="actual_pickup_time"/>-->
<!--                                        <field name="actual_delivery_time"/>-->
<!--                                    </group>-->
<!--                                </group>-->
                                
                                <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ - DISABLED (‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏õ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏ó‡∏ô) -->
                                <!--
                                <group string="‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞" invisible="state != 'in_progress'">
                                    <div class="oe_button_box">
                                        <button name="action_mark_picked_up" 
                                                string="‚úÖ ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß" 
                                                type="object" 
                                                class="oe_stat_button btn-success"
                                                icon="fa-check-circle"
                                                invisible="tracking_status not in ['pending', 'in_transit']"/>
                                        <button name="action_mark_near_destination" 
                                                string="üöö ‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á" 
                                                type="object" 
                                                class="oe_stat_button btn-warning"
                                                icon="fa-truck"
                                                invisible="tracking_status not in ['picked_up', 'in_transit']"/>
                                        <button name="action_mark_delivered" 
                                                string="üì¶ ‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡πÅ‡∏•‡πâ‡∏ß" 
                                                type="object" 
                                                class="oe_stat_button btn-primary"
                                                icon="fa-home"
                                                invisible="tracking_status not in ['near_destination', 'in_transit']"/>
                                    </div>
                                </group>
                                -->
                                
<!--                                <separator string="üìç ‡∏à‡∏∏‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° GPS ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"/>-->
<!--                                <field name="tracking_ids" nolabel="1">-->
<!--                                    <list string="‡∏à‡∏∏‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° GPS" default_order="timestamp desc" create="0" edit="0">-->
<!--                                        <field name="timestamp"/>-->
<!--                                        <field name="latitude" digits="[10,7]"/>-->
<!--                                        <field name="longitude" digits="[10,7]"/>-->
<!--                                        <field name="speed"/>-->
<!--                                        <field name="heading"/>-->
<!--                                        <field name="is_moving" widget="boolean_toggle"/>-->
<!--                                        <field name="address"/>-->
<!--                                        <field name="notes"/>-->
<!--                                    </list>-->
<!--                                </field>-->
<!--                                -->
<!--                                &lt;!&ndash; ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö backward compatibility) &ndash;&gt;-->
<!--                                <separator string="‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° (Legacy)" invisible="not tracking_history_ids"/>-->
<!--                                <field name="tracking_history_ids" nolabel="1" invisible="not tracking_history_ids">-->
<!--                                    <list string="‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ GPS" default_order="timestamp desc" limit="20">-->
<!--                                        <field name="timestamp"/>-->
<!--                                        <field name="latitude" digits="[10,7]"/>-->
<!--                                        <field name="longitude" digits="[10,7]"/>-->
<!--                                        <field name="speed"/>-->
<!--                                        <field name="address"/>-->
<!--                                    </list>-->
<!--                                </field>-->
                                
                                <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö - ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß -->
                                <separator string="üì¶ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö" invisible="not receiver_name and not delivery_photo and not receiver_signature"/>
                                <group invisible="not receiver_name and not delivery_photo and not receiver_signature">
                                    <group string="üë§ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö">
                                        <field name="receiver_name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" readonly="state == 'done'"/>
                                        <field name="actual_delivery_time" string="‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á" readonly="1"/>
                                    </group>
                                </group>
                                
                                <!-- ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö -->
                                <group invisible="not delivery_photo or not receiver_signature">
                                    <group string="üì∏ ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á" invisible="not delivery_photo">
                                        <field name="delivery_photo" widget="image" options="{'size': [400, 400]}" nolabel="1"/>
                                    </group>
                                    <group string="‚úçÔ∏è ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö" invisible="not receiver_signature">
                                        <field name="receiver_signature" widget="image" options="{'size': [400, 200]}" nolabel="1"/>
                                    </group>
                                </group>
                                
                                <group string="üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°">
                                    <field name="tracking_notes" nolabel="1" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á..."/>
                                </group>
                            </page>

                            <page string="‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°">
    <!-- (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÇ‡∏ä‡∏ß‡πå‡∏ö‡∏ô‡∏´‡∏±‡∏ß‡πÅ‡∏ó‡πá‡∏ö ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÑ‡∏ß‡πâ)
    <group>
        <field name="total_expense" widget="monetary" options="{'currency_field': 'currency_id'}" readonly="1"/>
    </group>
    -->

    <field name="expense_ids" nolabel="1">
        <!-- ‡πÉ‡∏ä‡πâ <list> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö inline one2many ‡πÉ‡∏ô v17+ -->
        <list string="‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢" editable="bottom">
            <field name="expense_date"/>
            <field name="expense_type"/>
            <field name="description" optional="hide"/>
            <field name="is_fuel" widget="boolean_toggle" readonly="1"/>
            <!-- ‚úÖ ‡∏ï‡∏±‡∏î attrs ‡∏≠‡∏≠‡∏Å ‡πÉ‡∏´‡πâ‡∏ü‡∏¥‡∏•‡∏î‡πå fuel ‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠ (‡πÇ‡∏´‡∏•‡∏î‡∏ä‡∏±‡∏ß‡∏£‡πå) -->
            <field name="fuel_liters" optional="hide"/>
            <field name="fuel_price_per_liter" optional="hide"/>

            <!-- ‚úÖ amount ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ + ‡∏°‡∏µ footer ‡∏£‡∏ß‡∏°‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤ -->
            <field name="amount"
                   widget="monetary"
                   options="{'currency_field': 'currency_id'}"
                   class="oe_right"
                   sum="‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"/>
        </list>

        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏¢‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ -->
        <form string="‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢">
            <group>
                <group>
                    <field name="expense_date"/>
                    <field name="expense_type"/>
                    <field name="description"/>
                </group>

                <group string="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô" colspan="2">
                    <field name="is_fuel" readonly="1"/>
                    <!-- ‚ùó ‡πÑ‡∏°‡πà‡∏°‡∏µ attrs ‡πÉ‡∏ô v17+ -->
                    <field name="fuel_liters"/>
                    <field name="fuel_price_per_liter"/>
                    <field name="amount"
                           widget="monetary"
                           options="{'currency_field': 'currency_id'}"/>
                </group>
            </group>
        </form>
    </field>

    <!-- ‡πÅ‡∏ñ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡πÉ‡∏ï‡πâ‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡∏ä‡∏¥‡∏î‡∏Ç‡∏ß‡∏≤ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ attrs) -->
    <group col="4">
        <group/><group/><group/>  <!-- ‡∏î‡∏±‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ -->
        <group>
            <!-- ‡πÉ‡∏™‡πà for ‡πÉ‡∏´‡πâ label ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô error label-without-for -->
            <label for="total_expense" string="‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"/>
            <field name="total_expense"
                   nolabel="1"
                   class="oe_right"
                   widget="monetary"
                   options="{'currency_field': 'currency_id'}"
                   readonly="1"/>
        </group>
    </group>
</page>





                            <page string="‚≠ê ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à" invisible="state != 'done'">
                                <group>
                                    <group string="üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô">
                                        <field name="rating_count" string="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô"/>
                                        <field name="latest_rating" string="‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î" widget="float"/>
                                    </group>
                                    <group string="üîó ‡∏™‡∏£‡πâ‡∏≤‡∏á Link ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô">
                                        <button name="action_create_rating_link" 
                                                string="üìù ‡∏™‡∏£‡πâ‡∏≤‡∏á Link ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà" 
                                                type="object" 
                                                class="btn-primary"
                                                icon="fa-link"/>
                                    </group>
                                </group>
                                
                                <separator string="üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"/>
                                <field name="rating_ids" nolabel="1"/>
                            </page>
                            
                            <page string="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏">
                                <field name="note" nolabel="1" readonly="state != 'draft'"/>
                            </page>
                        </notebook>
                    </sheet>
                    <chatter>
                        <field name="message_follower_ids"/>
                        <field name="message_ids"/>
                    </chatter>
                </form>
            </field>
        </record>

        <!-- Action -->
        <record id="action_vehicle_booking" model="ir.actions.act_window">
            <field name="name">‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á</field>
            <field name="res_model">vehicle.booking</field>
            <field name="view_mode">list,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á
                </p>
                <p>
                    ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏™‡∏£‡πâ‡∏≤‡∏á" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÉ‡∏´‡∏°‡πà
                </p>
            </field>
        </record>

        <!-- Main Menu -->
        <menuitem id="menu_vehicle_booking_root"
                  name="‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á"
                  sequence="5"
                  web_icon="transport_booking,static/description/icon.png"/>

        <!-- Sub Menu -->
        <menuitem id="menu_vehicle_booking"
                  name="‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏£‡∏ñ‡∏Ç‡∏ô‡∏™‡πà‡∏á"
                  parent="menu_vehicle_booking_root"
                  action="action_vehicle_booking"
                  sequence="10"/>
    </data>
</odoo>
