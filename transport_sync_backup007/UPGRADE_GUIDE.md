# ЁЯЪА Quick Start Guide - Upgrade Transport Sync Module

## тЬЕ Pre-Upgrade Checklist

- [ ] Backup р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е Odoo 18
- [ ] Backup р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М custom-addons/transport_sync
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Odoo 18 service р╕Бр╕│р╕ер╕▒р╕Зр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ API Odoo 14 р╕зр╣Ир╕▓р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╣Др╕Фр╣Й

---

## ЁЯУЭ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕г Upgrade (р╣Бр╕Щр╕░р╕Щр╕│)

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╕Ьр╣Ир╕▓р╕Щ Odoo UI (р╕Зр╣Ир╕▓р╕вр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф)

1. **Login р╣Ар╕Вр╣Йр╕▓ Odoo 18**
   ```
   URL: http://your-server:8069
   ```

2. **Enable Developer Mode**
   ```
   Settings тЖТ Activate Developer Mode
   ```

3. **Upgrade Module**
   ```
   Settings тЖТ Apps тЖТ р╕Др╣Йр╕Щр╕лр╕▓ "transport_sync" тЖТ р╕Др╕ер╕┤р╕Б "Upgrade"
   ```

4. **р╕гр╕нр╕Ир╕Щр╣Ар╕кр╕гр╣Зр╕И**
   - Odoo р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╣Гр╕лр╕бр╣Ир╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
   - р╕Бр╕гр╕Ур╕╡р╕бр╕╡ error р╣Гр╕лр╣Йр╕Фр╕╣р╕Чр╕╡р╣И log

---

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╕Ьр╣Ир╕▓р╕Щ Command Line (р╕кр╕│р╕лр╕гр╕▒р╕Ъ Advanced)

1. **Stop Odoo Service**
   ```bash
   # Windows
   net stop odoo18
   
   # Linux
   sudo systemctl stop odoo18
   ```

2. **Upgrade Module**
   ```bash
   cd "C:\Program Files\Odoo 18.0.20251009\server"
   
   # Windows
   python odoo-bin -u transport_sync -d your_database --stop-after-init
   
   # Linux
   ./odoo-bin -u transport_sync -d your_database --stop-after-init
   ```

3. **Start Odoo Service**
   ```bash
   # Windows
   net start odoo18
   
   # Linux
   sudo systemctl start odoo18
   ```

---

## ЁЯзк р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕лр╕ер╕▒р╕З Upgrade

### 1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Module Upgrade р╕кр╕│р╣Ар╕гр╣Зр╕И

р╣Ар╕Ыр╕┤р╕Ф Odoo тЖТ Settings тЖТ Apps тЖТ transport_sync  
- тЬЕ р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕зр╕гр╣Ар╕Ыр╣Зр╕Щ "Installed"
- тЬЕ Version р╕Др╕зр╕гр╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╕ер╣Ир╕▓р╕кр╕╕р╕Ф

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣Ир╣Гр╕Щ Form View

```
Transport Orders тЖТ р╣Ар╕Ыр╕┤р╕Ф record р╣Гр╕Фр╕Бр╣Зр╣Др╕Фр╣Й тЖТ р╕Фр╕╣р╕Чр╕╡р╣И Tabs
```

**р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ Tabs р╣Гр╕лр╕бр╣И:**
- тЫ╜ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Щр╣Йр╕│р╕бр╕▒р╕Щ
- ЁЯУЙ р╕Др╣Ир╕▓р╣Ар╕кр╕╖р╣Ир╕нр╕бр╕гр╕▓р╕Др╕▓
- ЁЯТ░ р╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕вр╕Ыр╕гр╕░р╕Ир╕│р╕Ыр╕╡
- ЁЯС╖ р╕Др╣Ир╕▓р╣Бр╕гр╕Зр╕Зр╕▓р╕Щ
- ЁЯУК р╕кр╕гр╕╕р╕Ыр╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╣Бр╕ер╕░р╕Бр╕│р╣Др╕г

### 3. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕г Sync р╕Ир╕▓р╕Б Odoo 14

1. р╣Др╕Ыр╕Чр╕╡р╣И Transport Orders
2. р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "р╕Лр╕┤р╕Зр╕Др╣Мр╕Ир╕▓р╕Б Odoo 14"
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ notification р╕зр╣Ир╕▓ sync р╕кр╕│р╣Ар╕гр╣Зр╕И
4. р╣Ар╕Ыр╕┤р╕Ф record р╕Чр╕╡р╣И sync р╕бр╕▓р╣Гр╕лр╕бр╣И
5. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Яр╕┤р╕ер╕Фр╣Мр╕Хр╣Ир╕нр╣Др╕Ыр╕Щр╕╡р╣Йр╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕е:
   - fuel_cost_per_trip
   - total_cost_per_trip
   - profit_per_trip
   - profit_per_trip_p

### 4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕Щ Database (Optional)

```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з
SELECT column_name 
FROM information_schema.columns 
WHERE table_name = 'transport_order' 
  AND column_name IN (
    'fuel_price_per_liter',
    'fuel_cost_per_trip',
    'total_cost_per_trip',
    'profit_per_trip',
    'profit_per_trip_p'
  );

-- р╕Др╕зр╕гр╣Др╕Фр╣Й 5 rows
```

```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣И sync р╕бр╕▓р╣Гр╕лр╕бр╣И
SELECT 
    name,
    date_order,
    shipping_cost,
    fuel_cost_per_trip,
    total_cost_per_trip,
    profit_per_trip,
    profit_per_trip_p
FROM transport_order
WHERE sync_date >= CURRENT_DATE
ORDER BY sync_date DESC
LIMIT 5;
```

---

## тЭМ р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

### Problem 1: Module р╣Др╕бр╣Ир╕бр╕╡р╕Ыр╕╕р╣Ир╕б Upgrade

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. Enable Developer Mode
2. Settings тЖТ Apps тЖТ Update Apps List
3. р╕Др╣Йр╕Щр╕лр╕▓ transport_sync р╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З

---

### Problem 2: Upgrade Error - Column already exists

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
SELECT column_name 
FROM information_schema.columns 
WHERE table_name = 'transport_order';
```

р╕Цр╣Йр╕▓р╕бр╕╡р╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕нр╕░р╣Др╕г (р╕Ыр╕Бр╕Хр╕┤р╣Др╕бр╣Ир╕Др╕зр╕гр╣Ар╕Бр╕┤р╕Ф error р╕Щр╕╡р╣Й)

---

### Problem 3: р╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣Ир╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╣Гр╕Щ Form

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. Refresh browser (Ctrl+F5)
2. Clear browser cache
3. Logout р╣Бр╕ер╣Йр╕з Login р╣Гр╕лр╕бр╣И
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ upgrade р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М

---

### Problem 4: Sync р╕Ир╕▓р╕Б Odoo 14 р╣Др╕бр╣Ир╣Др╕Фр╣Й

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ connection р╣Др╕Ыр╕вр╕▒р╕З Odoo 14:
   ```python
   import requests
   response = requests.get('https://npderp.com')
   print(response.status_code)  # р╕Др╕зр╕гр╣Др╕Фр╣Й 200
   ```

2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ credentials р╣Гр╕Щ `transport_order.py`:
   ```python
   ODOO14_CONFIG = {
       'url': 'https://npderp.com',
       'database': 'NPD_Logistics_New',
       'username': 'Npd_admin',
       'password': '1234',
   }
   ```

3. р╕Фр╕╣ log р╣Гр╕Щ Odoo 18:
   ```
   Settings тЖТ Technical тЖТ Logs
   ```

---

### Problem 5: р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Бр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡р╕Др╣Ир╕▓р╣Гр╕Щр╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣И

**р╕Щр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щр╣Ар╕гр╕╖р╣Ир╕нр╕Зр╕Ыр╕Бр╕Хр╕┤!**

- Orders р╕Чр╕╡р╣И sync **р╕Бр╣Ир╕нр╕Щ** upgrade р╕Ир╕░р╕бр╕╡р╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣Ир╣Ар╕Ыр╣Зр╕Щ 0 р╕лр╕гр╕╖р╕н null
- Orders р╕Чр╕╡р╣И sync **р╕лр╕ер╕▒р╕З** upgrade р╕Ир╕░р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ

**р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕вр╣Йр╕нр╕Щр╕лр╕ер╕▒р╕З:**
1. р╕ер╕Ъ orders р╣Ар╕Бр╣Ир╕▓р╕нр╕нр╕Б
2. Sync р╣Гр╕лр╕бр╣Ир╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (р╕Ир╕░р╣Др╕Фр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Др╕гр╕Ъ)

---

## ЁЯУК р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕ер╕▒р╕З Sync

```
SO-251020-0007 (р╕кр╕▓р╕Вр╕▓р╕нр╕вр╕╕р╕Шр╕вр╕▓)
тФЬтФА ЁЯЪЪ р╕Др╣Ир╕▓р╕Вр╕Щр╕кр╣Ир╕З: 2,100.00 р╕Ър╕▓р╕Ч
тФЬтФА тЫ╜ р╕Др╣Ир╕▓р╕Щр╣Йр╕│р╕бр╕▒р╕Щ: 980.10 р╕Ър╕▓р╕Ч
тФЬтФА ЁЯУЙ р╕Др╣Ир╕▓р╣Ар╕кр╕╖р╣Ир╕нр╕б: 210.22 р╕Ър╕▓р╕Ч
тФЬтФА ЁЯС╖ р╕Др╣Ир╕▓р╣Бр╕гр╕З: 580.68 р╕Ър╕▓р╕Ч
тФЬтФА ЁЯУЛ р╕нр╕╖р╣Ир╕Щр╣Ж: 50.00 р╕Ър╕▓р╕Ч
тФЬтФА ЁЯУК р╕Хр╣Йр╕Щр╕Чр╕╕р╕Щ: 1,606.61 р╕Ър╕▓р╕Ч
тФФтФА ЁЯТ░ р╕Бр╕│р╣Др╕г: 481.98 р╕Ър╕▓р╕Ч (30.0%)
```

---

## ЁЯОп р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕Чр╕│р╕лр╕ер╕▒р╕З Upgrade

### 1. Sync р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ
```
Transport Orders тЖТ р╕Лр╕┤р╕Зр╕Др╣Мр╕Ир╕▓р╕Б Odoo 14 (р╣Ар╕ер╕╖р╕нр╕Б limit р╕Щр╣Йр╕нр╕вр╣Ж р╣Ар╕Кр╣Ир╕Щ 5-10 records)
```

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- р╣Ар╕Ыр╕┤р╕Фр╕Фр╕╣ records р╕Чр╕╡р╣И sync р╕бр╕▓
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Хр╕▒р╕зр╣Ар╕ер╕Вр╕кр╕бр╣Ар╕лр╕Хр╕╕р╕кр╕бр╕Ьр╕е
- р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ Odoo 14

### 3. р╕кр╕гр╣Йр╕▓р╕З Report/Dashboard (Optional)
- р╕кр╕гр╣Йр╕▓р╕З Graph view р╕кр╕│р╕лр╕гр╕▒р╕Ър╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕Бр╕│р╣Др╕г
- р╕кр╕гр╣Йр╕▓р╕З Pivot view р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╕╕р╕Ыр╕Хр╣Йр╕Щр╕Чр╕╕р╕Щ

### 4. р╣Бр╕Ир╣Йр╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- р╣Бр╕Ир╣Йр╕Зр╣Гр╕лр╣Йр╕Чр╕╡р╕бр╕Чр╕гр╕▓р╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣И
- р╕кр╕нр╕Щр╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╣Бр╕ер╕░р╕Бр╕│р╣Др╕г

---

## ЁЯУЮ р╕Вр╕нр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

р╕лр╕▓р╕Бр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓:
1. р╕Фр╕╣ log р╕Чр╕╡р╣И Settings тЖТ Technical тЖТ Logs
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ CHANGELOG_SHIPMENT_FIELDS.md
3. р╕ер╕нр╕З restart Odoo service
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ database connection

---

## тЬЕ Completion Checklist

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Б upgrade р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з р╕Др╕зр╕гр╕бр╕╡р╕кр╕┤р╣Ир╕Зр╕Хр╣Ир╕нр╣Др╕Ыр╕Щр╕╡р╣Й:

- [ ] Module upgrade р╕кр╕│р╣Ар╕гр╣Зр╕И (р╣Др╕бр╣Ир╕бр╕╡ error)
- [ ] р╣Ар╕лр╣Зр╕Щ tabs р╣Гр╕лр╕бр╣Ир╣Гр╕Щ Form view
- [ ] Sync р╕Ир╕▓р╕Б Odoo 14 р╕кр╕│р╣Ар╕гр╣Зр╕И
- [ ] р╣Ар╕лр╣Зр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╕Яр╕┤р╕ер╕Фр╣Мр╣Гр╕лр╕бр╣И (fuel, cost, profit)
- [ ] List view р╣Бр╕кр╕Фр╕Зр╕Др╕нр╕ер╕▒р╕бр╕Щр╣Мр╣Гр╕лр╕бр╣Ир╣Др╕Фр╣Й
- [ ] р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╕▒р╕Ъ Odoo 14
- [ ] р╣Др╕бр╣Ир╕бр╕╡ error р╣Гр╕Щ log

---

**Version:** 2.0.0  
**Last Updated:** October 20, 2025  
**Upgrade Time:** ~5-10 р╕Щр╕▓р╕Чр╕╡  
**Downtime Required:** р╣Др╕бр╣Ир╕бр╕╡ (upgrade р╣Др╕Фр╣Йр╕Вр╕Ур╕░ Odoo р╕Бр╕│р╕ер╕▒р╕Зр╕Чр╕│р╕Зр╕▓р╕Щ)

ЁЯОЙ **р╕Вр╕нр╣Гр╕лр╣Йр╕Бр╕▓р╕г Upgrade р╣Ар╕Ыр╣Зр╕Щр╣Др╕Ыр╕Фр╣Йр╕зр╕вр╕Фр╕╡!**
