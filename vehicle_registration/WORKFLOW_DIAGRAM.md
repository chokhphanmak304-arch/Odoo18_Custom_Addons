# ระบบจัดการรถและการซ่อมบำรุง
## Odoo 18.0 - กระบวนการทำงาน (Workflow)

**Module:** Vehicle Registration & Maintenance  
**Version:** 18.0.1.1.0  
**วันที่สร้าง:** 27 ตุลาคม 2568

---

## 📋 สารบัญ

1. [บทนำ](#บทนำ)
2. [🔧 กระบวนการแจ้งและซ่อมรถ](#-กระบวนการแจ้งและซ่อมรถ)
3. [📬 กระบวนการแจ้งเตือนแบบอัตโนมัติ](#-กระบวนการแจ้งเตือนแบบอัตโนมัติ)
4. [📄 กระบวนการจัดเก็บเอกสาร](#-กระบวนการจัดเก็บเอกสาร)
5. [👤 กระบวนการจัดการผู้ขับขี่](#-กระบวนการจัดการผู้ขับขี่)

---

## บทนำ

ระบบจัดการรถและการซ่อมบำรุง เป็นโมดูล Odoo ที่ออกแบบมาเพื่อจัดการ:
- รถบรรทุก (ทั้งรถของบริษัท รถร่วม และรถเช่า)
- ผู้ขับขี่และใบขับขี่
- เอกสารรถ (ภาษี พ.ร.บ. ประกันภัย)
- การแจ้งซ่อมและประวัติการซ่อมบำรุง
- แจ้งเตือนอัตโนมัติภายในระบบ Odoo

---

## 🔧 กระบวนการแจ้งและซ่อมรถ

### ลำดับขั้นตอน

```
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ ผู้ใช้แจ้งปัญหา                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ สถานะ: ร่างแบบ (Draft)                                     │
│                                                              │
│ กรอกข้อมูล:                                                 │
│  • เลือกรถ (ทะเบียนรถ)                                      │
│  • เลือกหมวดหมู่ปัญหา                                       │
│    - เครื่องยนต์ / ระบบเกียร์ / ระบบเบรก                  │
│    - ระบบไฟฟ้า / ยาง / ตัวถัง / อื่นๆ                    │
│  • เขียนรายละเอียดปัญหา                                     │
│  • ระบุความเร่งด่วน (ปกติ / ด่วน / ด่วนมาก)              │
│                                                              │
│ ระบบ: สร้างรหัสอัตโนมัติ (MR-001, MR-002...)             │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 2️⃣ ผู้บริหารยืนยันการแจ้ง                                   │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ สถานะ: รอการซ่อม (Pending)                                 │
│                                                              │
│ การกระทำ:                                                   │
│  • คลิก "ยืนยัน"                                            │
│  • มอบหมายให้ช่าง                                          │
│                                                              │
│ ระบบอัปเดต:                                                │
│  • สถานะบันทึก: draft → pending                            │
│  • สถานะรถ: พร้อมใช้ → เอามาซ่อม (maintenance)            │
│  • ส่งแจ้งเตือนให้ช่าง                                     │
│  • ช่างมองเห็นใน Inbox                                     │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 3️⃣ ช่างเริ่มต้นซ่อม                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ สถานะ: กำลังซ่อม (In Progress)                             │
│                                                              │
│ การกระทำ:                                                   │
│  • คลิก "เริ่มซ่อม"                                        │
│  • บันทึกเวลาเริ่ม                                          │
│                                                              │
│ ระบบอัปเดต:                                                │
│  • สถานะบันทึก: pending → in_progress                      │
│  • เวลาเริ่มซ่อม: บันทึกเวลาปัจจุบัน                       │
│  • ช่างสามารถป้อนค่าใช้จ่ายระหว่างซ่อม                     │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 4️⃣ ช่างแจ้งว่าซ่อมเสร็จ                                     │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ สถานะ: เสร็จสิ้น (Done)                                     │
│                                                              │
│ การกระทำ:                                                   │
│  • ป้อนค่าใช้จ่ายจริง (ข้อบังคับ)                          │
│  • คลิก "ซ่อมเสร็จ"                                        │
│                                                              │
│ ระบบอัปเดต:                                                │
│  • สร้างบันทึกประวัติการซ่อม (Maintenance History)       │
│  • สถานะบันทึก: in_progress → done                        │
│  • สถานะรถ: เอามาซ่อม → พร้อมใช้ (available)              │
│  • เวลาซ่อมเสร็จ: บันทึกเวลาปัจจุบัน                       │
│  • ส่งแจ้งเตือนให้ผู้บริหาร                                 │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 5️⃣ บันทึกประวัติการซ่อม                                    │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ สถานะ: บันทึกอัตโนมัติ                                     │
│                                                              │
│ รายละเอียด:                                                 │
│  • รหัส: MH-001, MH-002... (Auto-generated)               │
│  • ข้อมูลทั้งหมดจากการแจ้งซ่อม                             │
│  • สามารถสร้างแจ้งเตือนซ้ำได้                               │
│  • เก็บไว้สำหรับอ้างอิงในอนาคต                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ ❌ ทางเลือก: ยกเลิกการซ่อม (ได้ตลอดเวลา)                   │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ การกระทำ:                                                   │
│  • คลิก "ยกเลิก"                                           │
│                                                              │
│ ระบบอัปเดต:                                                │
│  • สถานะบันทึก: → cancelled                                │
│  • สถานะรถ: maintenance → available                       │
│  • ไม่บันทึกในประวัติการซ่อม                                │
└─────────────────────────────────────────────────────────────┘
```

---

## 📬 กระบวนการแจ้งเตือนแบบอัตโนมัติ

### ลำดับขั้นตอน

```
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ สร้างแจ้งเตือน                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ ผู้จัดการกำหนด:                                             │
│  • เลือกบันทึกการซ่อม (Maintenance History)               │
│  • เปิดการแจ้งเตือน (Enable: ON)                           │
│  • ตั้งช่วงวัน (เช่น ส่งทุก 30 วัน)                        │
│  • เลือกผู้รับแจ้งเตือน                                     │
│  • ตั้งวันเริ่ม - วันสิ้นสุด                                │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 2️⃣ ระบบเช็คเงื่อนไข                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ 🤖 CRON Job ทำงานทุกวัน เวลา 12:00 น.                     │
│                                                              │
│ ตรวจสอบ:                                                    │
│  ✓ การแจ้งเตือนเปิดใช้? (enabled = true)                  │
│  ✓ วันนี้อยู่ในช่วงวันที่? (start_date ≤ today ≤ end)     │
│  ✓ ผ่านไป N วันแล้ว? (เช่น ผ่านไป 30 วัน)                │
│  ✓ มีผู้รับแจ้ง? (recipient_ids มีค่า)                    │
└─────────────────────────────────────────────────────────────┘
                          ↓
                    ┌──────────────────┐
                    │ เงื่อนไขครบ      │
                    │ ทั้งหมด?         │
                    └────────┬─────────┘
                             │
            ┌────────────────┼────────────────┐
            │                                 │
          ใช่ ✓                              ไม่ ✗
            │                                 │
            ↓                                 ↓
┌──────────────────────────────┐  ┌──────────────────────────────┐
│ 3️⃣ ส่งแจ้งเตือน              │  │ ⏳ ข้ามการส่ง                │
│ ━━━━━━━━━━━━━━━━━━━━━━━━     │  │ ━━━━━━━━━━━━━━━━━━━━━━━━   │
│                              │  │                              │
│ ระบบ Odoo ทำการ:            │  │ • ยังไม่ครบช่วงวัน          │
│  • สร้างบันทึก               │  │ • รอวันถัดไป                │
│    แจ้งเตือน                │  │ • ตรวจสอบใหม่วันพรุ่งนี้    │
│  • สร้าง Activity            │  │                              │
│  • แจ้งเตือนใน Inbox        │  │ (รอวันครบช่วงเวลา)          │
│  • บันทึกประวัติ             │  │                              │
│  • นับจำนวนครั้งที่ส่ง       │  │ วนซ้ำไป CRON ครั้งต่อไป      │
└──────────────────────────────┘  └──────────────────────────────┘
            │
            ↓
┌─────────────────────────────────────────────────────────────┐
│ 4️⃣ ผู้รับดูแจ้งเตือน                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ ผู้รับเข้ามา Odoo:                                          │
│  • ดู Inbox (หน้าแรก)                                      │
│  • คลิกดูรายละเอียด                                         │
│  • อ่านข้อมูลแจ้งเตือน                                     │
│  • เพิ่มความเห็นได้                                         │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 5️⃣ ทำเครื่องหมายว่าอ่านแล้ว                               │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ การกระทำ:                                                   │
│  • คลิก "อ่านแล้ว"                                         │
│                                                              │
│ ระบบอัปเดต:                                                │
│  • สถานะ: sent → read                                      │
│  • เวลาอ่าน: บันทึกเวลาปัจจุบัน                             │
│  • ลบ Activity ออก                                         │
│  • แจ้งเตือนหลุดจาก Inbox                                  │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 6️⃣ รอการแจ้งเตือนครั้งถัดไป                               │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ ⏳ รอ N วัน (ตามช่วงที่ตั้งไว้ เช่น 30 วัน)                │
│                                                              │
│ หลังครบ:                                                    │
│  • CRON Job ทำงานอีกครั้ง                                 │
│  • ตรวจสอบเงื่อนไข                                         │
│  • ส่งแจ้งเตือนอีกรอบ                                       │
│                                                              │
│ 🔄 วนซ้ำไปเรื่อย ๆ จนกว่า:                               │
│  • สิ้นสุดวันที่กำหนด                                       │
│  • ปิดการแจ้งเตือน                                         │
└─────────────────────────────────────────────────────────────┘
```

---

## 📄 กระบวนการจัดเก็บเอกสาร

### ลำดับขั้นตอน

```
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ เพิ่มเอกสารของรถ                                       │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ ผู้จัดการกรอก:                                              │
│  • ชื่อเอกสาร เช่น "ภาษี 2567"                             │
│  • ประเภทเอกสาร:                                           │
│    - ภาษีรถยนต์ (Tax)                                      │
│    - พ.ร.บ. (Compulsory Insurance)                        │
│    - ประกันภัย (Insurance)                                │
│    - ทะเบียนรถ (Registration)                             │
│    - ใบอนุญาตพิเศษ (License)                             │
│    - อื่นๆ (Other)                                        │
│  • เลขที่เอกสาร                                            │
│  • วันออกเอกสาร                                            │
│  • วันหมดอายุ                                              │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 2️⃣ ระบบคำนวณสถานะ                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ 🤖 ตรวจสอบโดยอัตโนมัติทุกวัน                              │
│                                                              │
│ ❌ หมดอายุแล้ว                                             │
│    └─ วันหมดอายุ < วันนี้                                 │
│    └─ เอกสารหมดความสำคัญ                                 │
│    └─ รถไม่สามารถใช้ได้                                   │
│                                                              │
│ ⚠️ ใกล้หมดอายุ                                            │
│    └─ วันนี้ ≤ วันหมดอายุ ≤ วันนี้ + 30 วัน             │
│    └─ ต้องให้ความสำคัญ                                    │
│    └─ ต้องต่ออายุเร็ว                                      │
│                                                              │
│ ✅ ยังใช้ได้                                               │
│    └─ วันหมดอายุ > วันนี้ + 30 วัน                       │
│    └─ ไม่มีการแจ้งเตือน                                   │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 3️⃣ ส่งแจ้งเตือน                                           │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ (เมื่ออยู่ในสถานะ "ใกล้หมดอายุ")                          │
│                                                              │
│ ระบบ:                                                       │
│  • เลือกผู้รับแจ้งเตือน                                     │
│  • ส่งอีเมลติดตามไป                                        │
│                                                              │
│ เนื้อหา:                                                    │
│  • ชื่อเอกสาร                                              │
│  • ทะเบียนรถ                                               │
│  • วันหมดอายุ                                              │
│  • เหลือกี่วัน                                              │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 4️⃣ ผู้จัดการต่ออายุ                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ การกระทำ:                                                   │
│  • ติดต่อหน่วยงานที่เกี่ยวข้อง                             │
│  • ต่ออายุเอกสาร                                            │
│  • รับเอกสารใหม่                                            │
│  • บันทึกเอกสารใหม่ในระบบ                                 │
│                                                              │
│ ระบบ:                                                       │
│  • เพิ่มบันทึกใหม่                                         │
│  • ใส่วันหมดอายุใหม่                                       │
│  • เอกสารเก่าเก็บเป็นประวัติ                               │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 5️⃣ สถานะกลับเป็นใช้ได้                                    │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ ✅ สถานะ: ใช้ได้                                           │
│  • รถสามารถใช้งานได้                                       │
│  • ไม่มีการแจ้งเตือน                                       │
│  • พร้อมสำหรับการขนส่ง                                     │
└─────────────────────────────────────────────────────────────┘
```

---

## 👤 กระบวนการจัดการผู้ขับขี่

### ลำดับขั้นตอน

```
┌─────────────────────────────────────────────────────────────┐
│ 1️⃣ สมัครผู้ขับขี่                                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ ผู้จัดการกรอก:                                              │
│  • ชื่อ-นามสกุล                                            │
│  • PIN 6 หลัก (ห้ามซ้ำ) ⚠️                                 │
│  • เบอร์โทรศัพท์                                            │
│  • เลขบัตรประชาชน                                          │
│  • เลขใบขับขี่                                              │
│  • ประเภทใบขับขี่                                          │
│    - รถยนต์ (Car)                                          │
│    - รถบรรทุก (Truck)                                      │
│    - รถพ่วง (Trailer)                                      │
│  • วันหมดอายุใบขับขี่                                      │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 2️⃣ ระบบตรวจสอบ PIN                                        │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ 🔒 Validation                                              │
│                                                              │
│ ตรวจสอบ:                                                    │
│  ✓ ต้องเป็นตัวเลขเท่านั้น                                  │
│  ✓ ต้องเป็น 6 หลักพอดี                                     │
│  ✓ ห้ามเหมือนผู้ขับคนอื่น (UNIQUE)                        │
│                                                              │
│ ถ้าผิด:                                                     │
│  ❌ "PIN นี้ถูกใช้งานแล้ว"                                │
│  ❌ "PIN ต้องเป็น 6 หลัก"                                 │
│  ❌ "PIN ต้องเป็นตัวเลขเท่านั้น"                          │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 3️⃣ ระบบคำนวณสถานะใบขับขี่                               │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ 🤖 ตรวจสอบโดยอัตโนมัติทุกวัน                              │
│                                                              │
│ ✅ ใช้ได้                                                  │
│    └─ หมดอายุ > วันนี้ + 30 วัน                           │
│                                                              │
│ ⚠️ ใกล้หมดอายุ                                            │
│    └─ วันนี้ ≤ หมดอายุ ≤ วันนี้ + 30 วัน                 │
│                                                              │
│ ❌ หมดอายุแล้ว                                             │
│    └─ หมดอายุ < วันนี้                                    │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 4️⃣ ส่งแจ้งเตือน                                           │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ (เมื่อสถานะ "ใกล้หมดอายุ")                                │
│                                                              │
│ ระบบ:                                                       │
│  • เลือกผู้รับแจ้งเตือน                                     │
│  • ส่งอีเมลให้ผู้จัดการ                                     │
│                                                              │
│ เนื้อหา:                                                    │
│  • ชื่อผู้ขับขี่                                            │
│  • เลขใบขับขี่                                              │
│  • วันหมดอายุ                                              │
│  • เหลือกี่วัน                                              │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 5️⃣ ผู้ขับขี่ต่อใบขับขี่                                    │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│                                                              │
│ การกระทำ:                                                   │
│  • ไปต่ออายุที่จังหวัร                                      │
│  • รับใบขับขี่ใหม่                                         │
│  • บอกให้ผู้จัดการทราบ                                     │
│                                                              │
│ ระบบ:                                                       │
│  • อัปเดตวันหมดอายุใหม่                                   │
│  • สถานะกลับ: ✅ ใช้ได้                                   │
│  • สามารถขับรถต่อ                                          │
└─────────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────────┐
│ 6️⃣ ประวัติอุบัติเหตุ                                       │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━   │
│ (บันทึกหากมีเหตุการณ์)                                      │
│                                                              │
│ ระบบบันทึก:                                                │
│  • วันเวลาที่เกิดเหตุ                                       │
│  • สถานที่เกิดเหตุ                                          │
│  • รายละเอียด                                              │
│  • ความรุนแรง (เล็กน้อย/ปานกลาง/ร้ายแรง)               │
│  • ค่าเสียหาย                                              │
│                                                              │
│ ใช้ประโยชน์:                                              │
│  • ติดตามประวัติผู้ขับขี่                                   │
│  • ประเมินความปลอดภัย                                      │
│  • ข้อมูลสำหรับประกันภัย                                   │
└─────────────────────────────────────────────────────────────┘
```

---

## 📊 ตัวอย่างการใช้งาน

### ตัวอย่าง 1: กระบวนการซ่อมรถจากการแจ้งถึงเสร็จสิ้น

**สถานการณ์:** รถทะเบียน กช-1234 เกิดปัญหาเครื่องยนต์

1. **วันจันทร์ 08:30 น.** - คนขับแจ้งปัญหา
   - สร้างบันทึก: MR-001
   - สถานะ: draft
   
2. **วันจันทร์ 10:00 น.** - ผู้บริหารยืนยัน
   - ยืนยัน → สถานะ: pending
   - รถ: available → maintenance
   - ส่งแจ้งเตือนให้ช่าง
   
3. **วันจันทร์ 11:00 น.** - ช่างเริ่มซ่อม
   - คลิก "เริ่มซ่อม" → สถานะ: in_progress
   - เวลาเริ่ม: 11:00 น.
   
4. **วันองค์การ 16:00 น.** - ช่างซ่อมเสร็จ
   - ป้อนค่าใช้จ่าย: 2,500 บาท
   - คลิก "ซ่อมเสร็จ" → สถานะ: done
   - สร้าง maintenance_history: MH-001 (อัตโนมัติ)
   - รถ: maintenance → available

---

### ตัวอย่าง 2: ระบบแจ้งเตือนการบำรุงรักษาประจำ

**สถานการณ์:** ต้องเช็คเครื่องยนต์ประจำทุก 60 วัน

1. **สร้างแจ้งเตือน:**
   - เลือก MH-001 (บำรุงเครื่องยนต์)
   - เปิดแจ้งเตือน: ON
   - ช่วงวัน: 60 วัน
   - ผู้รับ: ช่างหลัก, ผู้จัดการ
   - วันเริ่ม: 1 ตุลาคม 2568
   - วันสิ้นสุด: 31 ธันวาคม 2568 (คำนวณอัตโนมัติ)

2. **CRON ทำงาน (ทุกวันเวลา 12:00 น.):**
   - 1 ต.ค.: ส่งครั้งแรก → Activity ในหน้าแรก
   - ผู้รับ: อ่าน → Mark as read → ลบ Activity
   - 30 ต.ค.: ยังไม่ครบ 60 วัน → ข้าม
   - 30 พ.ย.: ครบ 60 วัน → ส่งอีกครั้ง
   - 30 ธ.ค.: ครบ 60 วัน → ส่งครั้งที่ 3
   - 1 ม.ค. 2569: สิ้นสุดการแจ้งเตือน

---

### ตัวอย่าง 3: ติดตามเอกสารรถหมดอายุ

**สถานการณ์:** ประกันภัยรถทะเบียน กช-1234 หมดอายุ 31 ตุลาคม 2568

1. **15 ตุลาคม 2568 (เหลือ 16 วัน):**
   - ระบบตรวจสอบ: ใกล้หมดอายุ ⚠️
   - ส่งแจ้งเตือน
   - ผู้จัดการเห็นรหัส: เหลือ 16 วัน

2. **25 ตุลาคม 2568 (เหลือ 6 วัน):**
   - ระบบตรวจสอบ: ยังใกล้หมดอายุ ⚠️
   - ส่งแจ้งเตือนเตือนอีกครั้ง
   - สถานที่: แดง (ลง Priority)

3. **31 ตุลาคม 2568 (หมดอายุ):**
   - ระบบตรวจสอบ: หมดอายุแล้ว ❌
   - ส่งแจ้งเตือน: ด่วนมาก!
   - รถไม่สามารถใช้ได้จนกว่าต่ออายุ

4. **1 พฤศจิกายน 2568:**
   - ผู้จัดการไปต่ออายุประกันภัย
   - บันทึกเอกสารใหม่: ประกันภัย (ใหม่)
   - วันหมดอายุใหม่: 31 ตุลาคม 2569
   - สถานะ: ✅ ใช้ได้

---

## 📋 ตารางเปรียบเทียบสถานะ

### สถานะบันทึกแจ้งซ่อม (Maintenance Request)

| สถานะ | ชื่อ | รายละเอียด | การกระทำต่อไป |
|------|------|-----------|-------------|
| Draft | ร่างแบบ | บันทึกใหม่สร้าง | ยืนยัน/ยกเลิก |
| Pending | รอการซ่อม | ได้รับอนุมัติ รอช่างเริ่ม | เริ่มซ่อม/ยกเลิก |
| In Progress | กำลังซ่อม | ช่างกำลังซ่อมอยู่ | ซ่อมเสร็จ/ยกเลิก |
| Done | เสร็จสิ้น | ซ่อมเสร็จแล้ว | สร้างแจ้งเตือน |
| Cancelled | ยกเลิก | ยกเลิกการซ่อม | ไม่มีการดำเนินการต่อ |

### สถานะเอกสารและใบขับขี่

| สถานะ | เงื่อนไข | สี | คำสั่งแนะนำ |
|------|---------|-----|------------|
| Valid ✅ | expiry > today + 30 days | เขียว | ไม่ต้องทำอะไร |
| Expiring Soon ⚠️ | today ≤ expiry ≤ today + 30 days | เหลือง | ต้องต่ออายุ |
| Expired ❌ | expiry < today | แดง | ต่ออายุทันที ⚠️ |

---

## 🔐 ความสำคัญและมาตรฐาน

### PIN 6 หลัก (ผู้ขับขี่)

**กฎ:**
- ✓ ต้องเป็นตัวเลข 6 หลัก เท่านั้น
- ✓ ห้ามซ้ำ (UNIQUE)
- ✓ ตัวอย่าง: 123456, 654321, 999999
- ✗ ไม่ใช่: 12345 (สั้น), 1234567 (ยาว), 12A456 (มีตัวอักษร)

**วัตถุประสงค์:**
- ล็อกอินระบบ
- ประจำตัวของผู้ขับขี่

---

## 📞 ข้อมูลติดต่อและสนับสนุน

**Module Information:**
- ชื่อ: Vehicle Registration & Maintenance
- รหัส: vehicle_registration
- เวอร์ชัน: 18.0.1.1.0
- ผู้พัฒนา: Your Company
- ลิขสิทธิ์: LGPL-3

**ขึ้นตอบต่อ:**
- เอกสาร: README_PIN_UPDATE.md, README_TEAMS_NOTIFICATION.md
- โฟลเดอร์: custom-addons/vehicle_registration/

---

**เอกสารฉบับนี้สร้างขึ้น:** 27 ตุลาคม 2568  
**ล่าสุดอัปเดต:** 27 ตุลาคม 2568