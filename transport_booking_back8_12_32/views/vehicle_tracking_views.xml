<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ðŸŽ¨ Modern Tracking Views -->
    
    <!-- List View - à¸£à¸²à¸¢à¸à¸²à¸£ Tracking à¸žà¸£à¹‰à¸­à¸¡ Auto-refresh à¸ˆà¸²à¸à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ -->
    <record id="view_vehicle_tracking_list_modern" model="ir.ui.view">
        <field name="name">vehicle.tracking.list.modern</field>
        <field name="model">vehicle.tracking</field>
        <field name="arch" type="xml">
            <list string="GPS Tracking History" default_order="timestamp desc" decoration-success="is_moving" decoration-muted="not is_moving">
                <field name="timestamp" string="â° à¹€à¸§à¸¥à¸²"/>
                <field name="booking_id" string="ðŸ“¦ Booking"/>
                <field name="driver_id" string="ðŸ‘¤ à¸„à¸™à¸‚à¸±à¸š"/>
                <field name="latitude" string="ðŸ“ Latitude"/>
                <field name="longitude" string="ðŸ“ Longitude"/>
                <field name="speed" string="ðŸš— à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§ (km/h)"/>
                <field name="is_moving" string="ðŸƒ à¸à¸³à¸¥à¸±à¸‡à¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸—à¸µà¹ˆ" widget="boolean"/>
                <field name="accuracy" string="ðŸŽ¯ à¸„à¸§à¸²à¸¡à¹à¸¡à¹ˆà¸™à¸¢à¸³ (m)" optional="hide"/>
                <field name="heading" string="ðŸ§­ à¸—à¸´à¸¨à¸—à¸²à¸‡ (Â°)" optional="hide"/>
                <field name="battery_level" string="ðŸ”‹ à¹à¸šà¸• (%)" optional="hide"/>
                <field name="address" string="ðŸ“® à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ" optional="show"/>
            </list>
        </field>
    </record>

    <!-- Form View - à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” Tracking Point -->
    <record id="view_vehicle_tracking_form_modern" model="ir.ui.view">
        <field name="name">vehicle.tracking.form.modern</field>
        <field name="model">vehicle.tracking</field>
        <field name="arch" type="xml">
            <form string="GPS Tracking Point">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <!-- à¸¥à¸š button à¸—à¸µà¹ˆà¸­à¹‰à¸²à¸‡à¸–à¸¶à¸‡ action à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸¡à¸µ -->
                    </div>
                    
                    <group>
                        <group string="ðŸ“¦ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‡à¸²à¸™">
                            <field name="booking_id"/>
                            <field name="driver_id"/>
                            <field name="vehicle_id"/>
                            <field name="timestamp"/>
                        </group>
                        <group string="ðŸ“ à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡ GPS">
                            <field name="latitude"/>
                            <field name="longitude"/>
                            <field name="accuracy"/>
                            <field name="altitude"/>
                        </group>
                    </group>
                    
                    <group>
                        <group string="ðŸš— à¸à¸²à¸£à¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸—à¸µà¹ˆ">
                            <field name="speed"/>
                            <field name="heading"/>
                            <field name="is_moving"/>
                        </group>
                        <group string="âš¡ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡">
                            <field name="battery_level"/>
                            <field name="address"/>
                        </group>
                    </group>
                    
                    <group string="ðŸ“ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸">
                        <field name="notes" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Graph View - à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ -->
    <record id="view_vehicle_tracking_graph" model="ir.ui.view">
        <field name="name">vehicle.tracking.graph</field>
        <field name="model">vehicle.tracking</field>
        <field name="arch" type="xml">
            <graph string="GPS Tracking Analysis" type="line">
                <field name="timestamp" interval="hour"/>
                <field name="speed" type="measure"/>
            </graph>
        </field>
    </record>

    <!-- Search View -->
    <record id="view_vehicle_tracking_search_modern" model="ir.ui.view">
        <field name="name">vehicle.tracking.search.modern</field>
        <field name="model">vehicle.tracking</field>
        <field name="arch" type="xml">
            <search string="à¸„à¹‰à¸™à¸«à¸² GPS Tracking">
                <field name="booking_id" string="Booking"/>
                <field name="driver_id" string="à¸„à¸™à¸‚à¸±à¸š"/>
                <field name="vehicle_id" string="à¸£à¸–"/>
                <field name="address" string="à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ"/>
                
                <filter name="filter_moving" string="ðŸƒ à¸à¸³à¸¥à¸±à¸‡à¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸—à¸µà¹ˆ" 
                        domain="[('is_moving', '=', True)]"/>
                <filter name="filter_stopped" string="â¸ï¸ à¸«à¸¢à¸¸à¸”" 
                        domain="[('is_moving', '=', False)]"/>
                
                <separator/>
                <filter name="filter_today" string="ðŸ“… à¸§à¸±à¸™à¸™à¸µà¹‰" 
                        domain="[('timestamp', '&gt;=', context_today)]"/>
                <filter name="filter_this_week" string="ðŸ“… à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰" 
                        domain="[('timestamp', '&gt;=', (context_today - datetime.timedelta(days=7)).strftime('%Y-%m-%d'))]"/>
                
                <separator/>
                <filter name="filter_high_speed" string="âš¡ à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§à¸ªà¸¹à¸‡ (&gt;80 km/h)" 
                        domain="[('speed', '&gt;', 80)]"/>
                <filter name="filter_low_battery" string="ðŸ”‹ à¹à¸šà¸•à¸•à¹ˆà¸³ (&lt;20%)" 
                        domain="[('battery_level', '&lt;', 20)]"/>
                
                <group expand="0" string="à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸•à¸²à¸¡">
                    <filter string="Booking" name="group_booking" 
                            context="{'group_by': 'booking_id'}"/>
                    <filter string="à¸„à¸™à¸‚à¸±à¸š" name="group_driver" 
                            context="{'group_by': 'driver_id'}"/>
                    <filter string="à¸£à¸–" name="group_vehicle" 
                            context="{'group_by': 'vehicle_id'}"/>
                    <filter string="à¸§à¸±à¸™à¸—à¸µà¹ˆ" name="group_date" 
                            context="{'group_by': 'timestamp:day'}"/>
                </group>
            </search>
        </field>
    </record>

<!--    &lt;!&ndash; Action &ndash;&gt;-->
<!--    <record id="action_vehicle_tracking_modern" model="ir.actions.act_window">-->
<!--        <field name="name">ðŸ“¡ GPS Tracking History</field>-->
<!--        <field name="res_model">vehicle.tracking</field>-->
<!--        <field name="view_mode">list,form,graph,pivot</field>-->
<!--        <field name="context">{'search_default_filter_today': 1, 'search_default_filter_moving': 1}</field>-->
<!--        <field name="help" type="html">-->
<!--            <p class="o_view_nocontent_smiling_face">-->
<!--                ðŸšš à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ GPS Tracking-->
<!--            </p>-->
<!--            <p>-->
<!--                à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ GPS à¸ˆà¸°à¸–à¸¹à¸à¸šà¸±à¸™à¸—à¸¶à¸à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸„à¸™à¸‚à¸±à¸šà¹€à¸£à¸´à¹ˆà¸¡à¸‡à¸²à¸™à¸œà¹ˆà¸²à¸™à¹à¸­à¸›à¸¡à¸·à¸­à¸–à¸·à¸­-->
<!--            </p>-->
<!--        </field>-->
<!--    </record>-->

<!--    &lt;!&ndash; Menu Item &ndash;&gt;-->
<!--    <menuitem id="menu_vehicle_tracking_modern" -->
<!--              name="ðŸ“¡ GPS Tracking" -->
<!--              parent="menu_vehicle_booking_root" -->
<!--              action="action_vehicle_tracking_modern" -->
<!--              sequence="30"/>-->

    <!-- Pivot View - à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸ -->
    <record id="view_vehicle_tracking_pivot" model="ir.ui.view">
        <field name="name">vehicle.tracking.pivot</field>
        <field name="model">vehicle.tracking</field>
        <field name="arch" type="xml">
            <pivot string="GPS Tracking Pivot">
                <field name="booking_id" type="row"/>
                <field name="timestamp" interval="day" type="col"/>
                <field name="speed" type="measure"/>
            </pivot>
        </field>
    </record>

</odoo>
